!function(){"use strict";function t(t){t.defaults.xsrfHeaderName="X-CSRFToken",t.defaults.xsrfCookieName="csrftoken"}function e(t,e,a){t.$on("$stateChangeStart",function(n,o,i){var s=o.data.requireLogin,r=a.isAuthAcct();return s&&!r?(n.preventDefault(),e.go("login"),t):void 0})}angular.module("hga",["ngAnimate","ngTouch","ngSanitize","ngFileUpload","angularMoment","monospaced.elastic","ui.router","ui.bootstrap","hga.config","hga.routes","main","users","forum"]),angular.module("hga.config",["ui.router"]),angular.module("hga.routes",["ui.router.router"]),angular.module("hga").run(t),t.$inject=["$http"],angular.module("hga").run(e),e.$inject=["$rootScope","$state","Main"]}(),function(){"use strict";function t(t,e){e.caseInsensitive(!0),e.strictMode(!1)}angular.module("hga.config").config(t),t.$inject=["$locationProvider","$urlMatcherFactoryProvider"]}(),function(){"use strict";function t(t,e){e.otherwise(function(t){var e=t.get("$state");e.go("app.dashboard")}),t.state("app",{"abstract":!0,url:"/app",controller:"AppController",controllerAs:"vm",templateUrl:static_path("views/main/app.html"),data:{requireLogin:!0}}).state("app.dashboard",{url:"/dashboard/:userId",controller:"DashBoardController",controllerAs:"vm",templateUrl:static_path("views/main/dashboard.html"),data:{requireLogin:!0}}).state("app.leaderboard",{url:"/leaderboard/:userId",controller:"LeaderBoardController",controllerAs:"vm",templateUrl:static_path("views/main/leaderboard.html"),data:{requireLogin:!0}}).state("app.profile",{url:"/profile/:userId",controller:"UserProfileController",controllerAs:"vm",templateUrl:static_path("views/users/user-profile.html"),data:{requireLogin:!0}}).state("app.student-goal",{url:"/student-goals/:userId",controller:"StudentGoalController",controllerAs:"vm",templateUrl:static_path("views/users/student-goal.html"),data:{requireLogin:!0}}).state("app.student-objective",{url:"/student-objectives/:userId",controller:"StudentObjectiveController",controllerAs:"vm",templateUrl:static_path("views/users/student-objective.html"),data:{requireLogin:!0}}).state("app.student-practice",{url:"/student-practice/:userId",controller:"StudentPracticeController",controllerAs:"vm",templateUrl:static_path("views/users/student-practice.html"),data:{requireLogin:!0}}).state("app.student-wishlist",{url:"/student-wishlist/:userId",controller:"StudentWishListController",controllerAs:"vm",templateUrl:static_path("views/users/student-wishlist.html"),data:{requireLogin:!0}}).state("app.student-materials",{url:"/student-materials/:userId",controller:"StudentMaterialsController",controllerAs:"vm",templateUrl:static_path("views/users/student-materials.html"),data:{requireLogin:!0}}).state("app.forum",{url:"/forum",controller:"ForumController",controllerAs:"vm",templateUrl:static_path("views/forum/forum.html"),data:{requireLogin:!0}}).state("login",{url:"/login",controller:"AuthenticationController",controllerAs:"vm",templateUrl:static_path("views/main/login.html"),data:{requireLogin:!1}}).state("logout",{url:"/logout",controller:"LogoutController",controllerAs:"vm",data:{requireLogin:!0}})}angular.module("hga.routes").config(t),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("forum",["forum.controllers","forum.services","forum.directives"]),angular.module("forum.controllers",[]),angular.module("forum.services",[]),angular.module("forum.directives",[])}(),function(){"use strict";angular.module("users",["users.controllers","users.services"]),angular.module("users.controllers",[]),angular.module("users.services",[])}(),function(){"use strict";angular.module("main",["main.controllers","main.services","main.directives"]),angular.module("main.controllers",[]),angular.module("main.services",[]),angular.module("main.directives",[])}(),function(){"use strict";function t(t,e,a,n,o,i){function s(){if(n.isAuthAcct()){var t=n.getAuthAcct();i.getUser(t.id).then(function(t){l.user=t})}else console.log("Could not get account");o.getAllCategories().then(r)["catch"](c)}function r(t){l.categories=t}function c(t){console.log(t)}var l=this;l.discussionClass="",s(),l.setCategory=function(t){l.discussionClass="animate fadeOutDown",l.category=t,l.discussionClass="animate fadeInDown"}}angular.module("forum.controllers").controller("ForumController",t),t.$inject=["$scope","$sce","$state","Main","Forum","Users"]}(),function(){"use static";function t(t,e,a,n,o){function i(){n.isAuthAcct()?(l.authAcct=n.getAuthAcct(),a.userId&&l.authAcct.is_staff?l.dashId=a.userId:(l.dashId=l.authAcct.id,e.transitionTo("app.student-goal",{userId:l.dashId},{notify:!1})),s(l.dashId)):e.go("login")}function s(t){o.getUser(t).then(r)["catch"](c)}function r(t){l.user=t}function c(t){console.log(t)}var l=this;i()}angular.module("main.controllers").controller("StudentGoalController",t),t.$inject=["$scope","$state","$stateParams","Main","Users"]}(),function(){"use static";function t(t,e,a,n,o){function i(){n.isAuthAcct()?(l.authAcct=n.getAuthAcct(),a.userId&&l.authAcct.is_staff?l.dashId=a.userId:(l.dashId=l.authAcct.id,e.transitionTo("app.student-materials",{userId:l.dashId},{notify:!1})),s(l.dashId)):e.go("login")}function s(t){o.getUser(t).then(r)["catch"](c)}function r(t){l.user=t}function c(t){console.log(t)}var l=this;i()}angular.module("main.controllers").controller("StudentMaterialsController",t),t.$inject=["$scope","$state","$stateParams","Main","Users"]}(),function(){"use static";function t(t,e,a,n,o){function i(){n.isAuthAcct()?(l.authAcct=n.getAuthAcct(),a.userId&&l.authAcct.is_staff?l.dashId=a.userId:(l.dashId=l.authAcct.id,e.transitionTo("app.student-objective",{userId:l.dashId},{notify:!1})),s(l.dashId)):e.go("login")}function s(t){o.getUser(t).then(r)["catch"](c)}function r(t){l.user=t}function c(t){console.log(t)}var l=this;i()}angular.module("main.controllers").controller("StudentObjectiveController",t),t.$inject=["$scope","$state","$stateParams","Main","Users"]}(),function(){"use static";function t(t,e,a,n,o){function i(){n.isAuthAcct()?(l.authAcct=n.getAuthAcct(),a.userId&&l.authAcct.is_staff?l.dashId=a.userId:(l.dashId=l.authAcct.id,e.transitionTo("app.student-practice",{userId:l.dashId},{notify:!1})),s(l.dashId)):e.go("login")}function s(t){o.getUser(t).then(r)["catch"](c)}function r(t){l.user=t}function c(t){console.log(t)}var l=this;i()}angular.module("main.controllers").controller("StudentPracticeController",t),t.$inject=["$scope","$state","$stateParams","Main","Users"]}(),function(){"use static";function t(t,e,a,n,o){function i(){n.isAuthAcct()?(l.authAcct=n.getAuthAcct(),a.userId&&l.authAcct.is_staff?l.dashId=a.userId:(l.dashId=l.authAcct.id,e.transitionTo("app.student-wishlist",{userId:l.dashId},{notify:!1})),s(l.dashId)):e.go("login")}function s(t){o.getUser(t).then(r)["catch"](c)}function r(t){l.user=t}function c(t){console.log(t)}var l=this;i()}angular.module("main.controllers").controller("StudentWishListController",t),t.$inject=["$scope","$state","$stateParams","Main","Users"]}(),function(){"use static";function t(t,e,a,n,o,i){function s(){n.isAuthAcct()?(u.authAcct=n.getAuthAcct(),a.userId&&u.authAcct.is_staff?u.profId=a.userId:(u.profId=u.authAcct.id,e.transitionTo("app.profile",{userId:u.profId},{notify:!1})),r(u.profId)):e.go("app.dashboard")}function r(t){o.getUser(t).then(c)["catch"](l)}function c(t){u.respUser=t;var e=angular.copy(u.respUser);u.user=_.omit(e,"student_goal","student_log","student_material","student_wishlist","student_objective")}function l(t){console.log(t)}var u=this;s(),u.updateProfile=function(e){i.upload({url:"api/v1/users/"+e.id+"/",data:e,method:"PUT"}).then(function(e){console.log("Success "+e.config.data.user_pic.name+"uploaded. Response: "+e.data),c(e.data),t.userProfileForm.$setPristine(),t.$emit("update_user_info",e.data)},function(t){console.log("Error status: "+t.status)},function(t){var e=parseInt(100*t.loaded/t.total);console.log("progress: "+e+"% "+t.config.data.user_pic.name)})},u.clearChanges=function(){u.user={},u.user=angular.copy(u.respUser)}}angular.module("main.controllers").controller("UserProfileController",t),t.$inject=["$scope","$state","$stateParams","Main","Users","Upload"]}(),function(){"use strict";function t(t,e,a,n,o){var i={restrict:"EA",scope:{category:"=",userId:"=",path:"=",playLevelColor:"=",discussionClass:"="},link:function(e,i,s){function r(t){e.category.category_topic.push(t),e.getMessages(t.id)}function c(t){console.log(t)}function l(t){e.messages=t,e.messageClass="animated fadeInRight"}function u(t){console.log(t)}e.newMessage={},e.open=function(a){n.open({templateUrl:t.trustAsResourceUrl(static_path("views/modals/forum-topic.modal.html")),controller:["$scope","$uibModalInstance","$timeout",function(t,a,n){var o=this;o.closeModal=function(){a.dismiss("cancel")},o.addNewTopic=function(t){e.addTopic(t),a.close()}}],controllerAs:"vm",size:"lg"})},e.addTopic=function(t){t.category_id=e.category.id,a.addNewTopic(t).then(r)["catch"](c)},e.getMessages=function(t){e.messageClass="animated fadeOutLeft",a.getAllMessages(t).then(l)["catch"](u)},e.addMessage=function(t,a){var n={message:t.message,topic_id:a,message_file:t.message_file};o.upload({url:"api/v1/forum-message/",data:n}).then(function(t){e.newMessage={},e.messages.topic_message.push(t.data)},function(t){console.log("Error status: "+t.status)},function(t){var e=parseInt(100*t.loaded/t.total);console.log("progress: "+e+"% "+t.config.data.message_file.name)})},e.$watch("category",function(t){t&&(e.messages="")},!0)},templateUrl:t.trustAsResourceUrl(static_path("views/directives/forum-discussion.directive.html"))};return i}angular.module("forum.directives").directive("forumDiscussion",t),t.$inject=["$sce","Users","Forum","$uibModal","Upload"]}(),function(){"use strict";function t(t,e,a){function n(t){return t.data}function o(t){return e.reject("Error "+t.status)}function i(){return t.get("api/v1/forum-topics/").then(n)["catch"](o)}function s(){return t.get("api/v1/forum-category/").then(n)["catch"](o)}function r(e){return t.get("api/v1/forum-topics/"+e+"/",e).then(n)["catch"](o)}function c(e){return t.post("api/v1/forum-message/",e).then(n)["catch"](o)}function l(e){return t.post("api/v1/forum-topics/",e).then(n)["catch"](o)}var u={getAllTopics:i,getAllCategories:s,getAllMessages:r,addNewMessage:c,addNewTopic:l};return u}angular.module("forum.services").factory("Forum",t),t.$inject=["$http","$q","$state"]}(),function(){"use strict";function t(t,e,a){function n(t){return t.data}function o(t){return e.reject("Error "+t.status)}function i(){return t.get("api/v1/users/").then(n)["catch"](o)}function s(e){return t.get("api/v1/users/"+e+"/").then(n)["catch"](o)}function r(e){return t.put("api/v1/users/"+e.id+"/",e).then(n)["catch"](o)}function c(e){return t.post("api/v1/student-goals/",e).then(n)["catch"](o)}function l(e,a){return t.put("api/v1/student-goals/"+e+"/",a).then(n)["catch"](o)}function u(e){return t["delete"]("api/v1/student-goals/"+e+"/").then(n)["catch"](o)}function d(e){return t.post("api/v1/student-objectives/",e).then(n)["catch"](o)}function f(e,a){return t.put("api/v1/student-objectives/"+e+"/",a).then(n)["catch"](o)}function g(e){return t["delete"]("api/v1/student-objectives/"+e+"/").then(n)["catch"](o)}function p(e){return t.post("api/v1/student-practice-logs/",e).then(n)["catch"](o)}function m(e){return t.put("api/v1/student-practice-logs/"+e.id+"/",e).then(n)["catch"](o)}function h(e){return t["delete"]("api/v1/student-practice-logs/"+e+"/").then(n)["catch"](o)}function v(e){return t.post("api/v1/student-wish-list/",e).then(n)["catch"](o)}function _(e,a){return t.put("api/v1/student-wish-list/"+e+"/",a).then(n)["catch"](o)}function b(e){return t["delete"]("api/v1/student-wish-list/"+e+"/").then(n)["catch"](o)}function A(e){return t.post("api/v1/student-materials/",e).then(n)["catch"](o)}function $(e,a){return t.put("api/v1/student-materials/"+e+"/",a).then(n)["catch"](o)}function w(e){return t["delete"]("api/v1/student-materials/"+e+"/").then(n)["catch"](o)}var I={getAll:i,getUser:s,updateUserProfile:r,createStudentGoal:c,updateStudentGoal:l,deleteStudentGoal:u,createStudentObjective:d,updateStudentObjective:f,deleteStudentObjective:g,createStudentPracticeLog:p,updateStudentPracticeLog:m,deleteStudentPracticeLog:h,createStudentWishList:v,updateStudentWishList:_,deleteStudentWishList:b,createStudentMaterial:A,updateStudentMaterial:$,deleteStudentMaterial:w};return I}angular.module("users.services").factory("Users",t),t.$inject=["$http","$q","$state"]}(),function(){"use strict";function t(t,e,a,n,o){function i(){n.isAuthAcct()?(r.authAcct=n.getAuthAcct(),o.getUser(r.authAcct.id).then(function(t){r.currentUser=t})):console.log("Could not get account"),s()}function s(){var t=!1;r.lbd={misc:{navbar_menu_visible:0},initRightMenu:function(){t||(r.off_canvas_sidebar=$("nav").find(".navbar-collapse").first().clone(!0),r.sidebar=$(".sidebar"),r.sidebar_bg_color=r.sidebar.data("background-color"),r.sidebar_active_color=r.sidebar.data("active-color"),r.logo=r.sidebar.find(".logo").first(),r.logo_content=r.logo[0].outerHTML,r.ul_content="",r.off_canvas_sidebar.attr("data-background-color",r.sidebar_bg_color),r.off_canvas_sidebar.attr("data-active-color",r.sidebar_active_color),r.off_canvas_sidebar.addClass("off-canvas-sidebar"),r.off_canvas_sidebar.children("ul").each(function(){r.content_buff=$(this).html(),r.ul_content=r.ul_content+r.content_buff}),r.content_buff=r.sidebar.find(".nav").html(),r.ul_content=r.ul_content+'<li class="divider"></li>'+r.content_buff,r.ul_content='<ul class="nav navbar-nav">'+r.ul_content+"</ul>",r.navbar_content=r.logo_content+r.ul_content,r.navbar_content='<div class="sidebar-wrapper">'+r.navbar_content+"</div>",r.off_canvas_sidebar.html(r.navbar_content),$("body").append(r.off_canvas_sidebar),r.toggle=$(".navbar-toggle"),r.off_canvas_sidebar.find("a").removeClass("btn btn-round btn-default"),r.off_canvas_sidebar.find("button").removeClass("btn-round btn-fill btn-info btn-primary btn-success btn-danger btn-warning btn-neutral"),r.off_canvas_sidebar.find("button").addClass("btn-simple btn-block"),r.toggle.click(function(){1==r.lbd.misc.navbar_menu_visible?($("html").removeClass("nav-open"),r.lbd.misc.navbar_menu_visible=0,$("#bodyClick").remove(),setTimeout(function(){r.toggle.removeClass("toggled")},400)):(setTimeout(function(){r.toggle.addClass("toggled")},430),r.div='<div id="bodyClick"></div>',$(r.div).appendTo("body").click(function(){$("html").removeClass("nav-open"),r.lbd.misc.navbar_menu_visible=0,$("#bodyClick").remove(),setTimeout(function(){r.toggle.removeClass("toggled")},400)}),$("html").addClass("nav-open"),r.lbd.misc.navbar_menu_visible=1)}),r.sideMenu=$(".side-menu"),r.sideMenu.click(function(){1==r.lbd.misc.navbar_menu_visible?($("html").removeClass("nav-open"),r.lbd.misc.navbar_menu_visible=0,$("#bodyClick").remove(),setTimeout(function(){r.toggle.removeClass("toggled")},400)):(setTimeout(function(){r.toggle.addClass("toggled")},430),r.div='<div id="bodyClick"></div>',$(r.div).appendTo("body").click(function(){$("html").removeClass("nav-open"),r.lbd.misc.navbar_menu_visible=0,$("#bodyClick").remove(),setTimeout(function(){r.toggle.removeClass("toggled")},400)}),$("html").addClass("nav-open"),r.lbd.misc.navbar_menu_visible=1)}),t=!0)}},$(document).ready(function(){var t=$(window).width();991>=t&&window.setTimeout(r.lbd.initRightMenu,1e3),$('[rel="tooltip"]').tooltip()}),$(window).resize(function(){$(window).width()<=991&&r.lbd.initRightMenu()})}var r=this;i(),t.$on("update_user_info",function(t,e){r.authAcct.id==e.id&&(r.currentUser=e)});var c=media_path(""),l=static_path("");t.path={static_files:e.trustAsResourceUrl(l),media:e.trustAsResourceUrl(c)},t.playLevelColor={1:"bg-white",2:"bg-red",3:"bg-yellow",4:"bg-green",5:"bg-blue",6:"bg-purple",7:"bg-brown",8:"bg-black"}}angular.module("main.controllers").controller("AppController",t),t.$inject=["$scope","$sce","$state","Main","Users"]}(),function(){"use static";function t(t,e,a,n,o){function i(){n.isAuthAcct()&&(u.authUser=n.getAuthAcct(),a.go("app.dashboard",{userId:u.authUser.id}))}function s(t){a.go("app.dashboard",{userId:t.id})}function r(t){u.loginError=t.data.message}function c(e){$.notify({icon:"ti-check",message:"Account has been created! Please sign in"},{type:"success",timer:1e3,placement:{from:"top",align:"right"},template:'<div class="alert alert-{0} alert-with-icon" data-notify="container"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><span data-notify="icon"></span><span data-notify="message">{2}</span></div>'}),t.isCollapsed=!1,t.registerForm.$setPristine(),u.newUser={},a.go("login")}function l(t){console.log(t),500===t.status?u.registerError="username or email in use":u.registerError=t.data.message}var u=this;i(),u.login=function(t,e){n.login(t,e).then(s)["catch"](r)},u.register=function(t){t.password===t.confirm_password?n.register(t).then(c)["catch"](l):u.registerError="Passwords must match!"};var d=media_path(""),f=static_path("");t.path={static_files:e.trustAsResourceUrl(f),media:e.trustAsResourceUrl(d)}}angular.module("main.controllers").controller("AuthenticationController",t),t.$inject=["$scope","$sce","$state","Main","Users"]}(),function(){"use static";function t(t,e,a,n,o){function i(){n.isAuthAcct()?(l.authAcct=n.getAuthAcct(),a.userId&&l.authAcct.is_staff?l.dashId=a.userId:(l.dashId=l.authAcct.id,e.transitionTo("app.dashboard",{userId:l.dashId},{notify:!1})),s(l.dashId)):e.go("login")}function s(t){o.getUser(t).then(r)["catch"](c)}function r(t){l.user=t}function c(t){console.log(t)}var l=this;i()}angular.module("main.controllers").controller("DashBoardController",t),t.$inject=["$scope","$state","$stateParams","Main","Users"]}(),function(){"use static";function t(t,e,a,n,o){function i(){n.isAuthAcct()?(u.authAcct=n.getAuthAcct(),a.userId&&u.authAcct.is_staff?u.dashId=a.userId:(u.dashId=u.authAcct.id,e.transitionTo("app.leaderboard",{userId:u.dashId},{notify:!1})),s(u.dashId),o.getAll().then(l)["catch"](c)):e.go("login")}function s(t){o.getUser(t).then(r)["catch"](c)}function r(t){u.user=t}function c(t){console.log(t)}function l(t){u.allUsers=t,u.leaderUsers=angular.copy(t),u.setLeaderboard(u.leaderUsers)}var u=this;i(),u.dateRange=moment("12-25-1995","MM-DD-YYYY"),u.setLeaderboard=function(t){u.tempLeaderBoard=[],angular.forEach(t,function(t,e){if(t.student_log.length)if(t.student_log=_.filter(t.student_log,function(t){return t.practice_date?moment(t.practice_date).isAfter(u.dateRange):void 0}),t.student_log.length)var a=u.getSum(t.student_log);else var a={max_speed:0,speed_total:0,speed_avg:0,time_total:0,time_avg:0,last_practice:"no practice"};else var a={max_speed:0,speed_total:0,speed_avg:0,time_total:0,time_avg:0,last_practice:"no practice"};if(t.student_goal.length)if(t.student_goal=_.filter(t.student_goal,function(t){return moment(t.goal_complete_date).isAfter(u.dateRange)}),t.student_goal.length)var n=_.where(t.student_goal,{goal_complete:!0}).length;else var n=0;else var n=0;if(t.student_objective.length)if(t.student_objective=_.filter(t.student_objective,function(t){return moment(t.objective_complete_date).isAfter(u.dateRange)}),t.student_objective.length)var o=_.where(t.student_objective,{objective_complete:!0}).length;else var o=0;else var o=0;if(t.student_wishlist.length)if(t.student_wishlist=_.filter(t.student_wishlist,function(t){return moment(t.wish_item_complete_date).isAfter(u.dateRange)}),t.student_wishlist.length)var i=_.where(t.student_wishlist,{wish_item_complete:!0}).length;else var i=0;else var i=0;var s={id:t.id,is_active:t.is_active,first_name:t.first_name,last_name:t.last_name,play_level:t.play_level,practice_speed_high:a.max_speed,practice_speed_avg:a.speed_avg,practice_speed_total:a.speed_total,practice_time_avg:a.time_avg,practice_time_total:a.time_total,practice_count:t.student_log.length,last_practice_date:a.last_practice,goals_complete:n,objectives_complete:o,wishes_complete:i};u.tempLeaderBoard.push(s)}),u.leaderBoard=u.tempLeaderBoard},u.getSum=function(t){var e=[],a=[],n=[],o=0,i="";if(angular.forEach(t,function(t,s){if(t.practice_time){var r={},c=parseInt(t.practice_time);if(e.push(c),n.length){var l=_.findWhere(n,{date:t.practice_date});l?l.tot=parseInt(l.tot)+c:(r.tot=c,r.date=t.practice_date,n.push(r))}else r.tot=c,r.date=t.practice_date,n.push(r)}if(t.practice_speed){var u=parseInt(t.practice_speed);u>o&&(o=u),a.push(u)}t.practice_date&&t.practice_date>i&&(i=t.practice_date)}),e.length)var s=e.reduce(function(t,e){return t+e});else var s=0;if(a.length)var r=a.reduce(function(t,e){return t+e});else var r=0;if(n.length){var c=0;_.each(n,function(t,e){c+=t.tot})}else var c=0;return{max_speed:o,speed_total:r,speed_avg:r/a.length,time_total:s,time_avg:c/n.length,last_practice:i}},u.getRange=function(t){u.adjDate=moment().subtract(1,t),u.dateRange=u.adjDate;var e=angular.copy(u.allUsers);u.setLeaderboard(e)},u.resetLeaderboard=function(){u.dateRange=moment("12-25-1995","MM-DD-YYYY");var t=angular.copy(u.allUsers);u.setLeaderboard(t)}}angular.module("main.controllers").controller("LeaderBoardController",t),t.$inject=["$scope","$state","$stateParams","Main","Users"]}(),function(){"use static";function t(t){function e(){t.isAuthAcct()&&t.logout()}e()}angular.module("main.controllers").controller("LogoutController",t),t.$inject=["Main"]}(),function(){"use strict";function t(t,e,a,n,o){var i={restrict:"EA",scope:{tempType:"=",userId:"=",goals:"="},link:function(o,i,s){o.sortType=["goal_complete","goal_target_date"],o.sortReverse=!1,o.searchItem="",o.open=function(e){n.open({templateUrl:t.trustAsResourceUrl(static_path("views/modals/student-goal.modal.html")),controller:["$scope","$uibModalInstance","$timeout",function(t,a,n){var i=this;e.id?(i.modalTitle="Update Goal",i.studentGoal=e):(i.modalTitle="New Goal",i.studentGoal={}),i.openDate=function(t){t.preventDefault(),t.stopPropagation(),n(function(){i.showPicker.opened=!i.showPicker.opened})},i.showPicker={opened:!1},i.closeModal=function(){a.dismiss("cancel")},i.submitGoal=function(t){if(e.id)o.updateGoal(t);else{var n=o.userId;o.addGoal(n,t)}a.close()}}],controllerAs:"vm",size:"lg"})},o.updateGoal=function(t){var a=t.id;if(t.goal)var n={id:t.id,goal:t.goal,goal_target_date:t.goal_target_date,goal_complete:t.goal_complete,goal_notes:t.goal_notes};else{var n=t,i=o.getDate();n.goal_complete_date=i.now}e.updateStudentGoal(a,n).then(function(e){var a=o.goals.indexOf(t);o.goals[a]=e})["catch"](function(t){console.log(t)})},o.getDate=function(){var t=new Date,e=t.getDate(),a=t.getMonth()+1,n=t.getFullYear(),o=t.getHours(),i=t.getMinutes(),s=t.getSeconds(),r=n+"-"+a+"-"+e+"T"+o+":"+i+":"+s;return{today:t,dd:e,mm:a,yyyy:n,hh:o,m:i,secs:s,now:r}},o.addGoal=function(t,a){a.student=t,e.createStudentGoal(a).then(function(t){o.goals.push(t)})["catch"](function(t){console.log(t)})},o.deleteGoal=function(t){var a=t.id;e.deleteStudentGoal(a).then(function(e){var a=o.goals.indexOf(t);o.goals.splice(a,1)})["catch"](function(t){console.log(t)})},o.checkGoals=function(){o.$watch("goals",function(t){if(t){var e=new Date,n=new Date;n.setDate(n.getDate()+7);var o=a.getAuthAcct();if(o.notification.goal){var i=!1;if(o.notification.goal_time>n)var i=!0}if(i||!o.notification.goal){var s;if(angular.forEach(t,function(t,e){t.goal_target_date&&!t.goal_complete&&(s?t.goal_target_date<s&&(s=t.goal_target_date):s=t.goal_target_date)}),s){var r=new Date;r.setDate(r.getDate()+7);var c=new Date(s);e>c?$.notify({icon:"ti-medall",message:"You have Goals that are past the Target Date!"},{type:"danger",timer:1e3,placement:{from:"top",align:"right"},template:'<div class="alert alert-{0} alert-with-icon" data-notify="container"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><span data-notify="icon"></span><span data-notify="message">{2}</span></div>'}):r>c&&$.notify({icon:"ti-medall",message:"You have Goals that are approaching Target Date!"},{type:"warning",timer:1e3,placement:{from:"top",align:"right"},template:'<div class="alert alert-{0} alert-with-icon" data-notify="container"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><span data-notify="icon"></span><span data-notify="message">{2}</span></div>'}),o.notification={goal:!0,goal_time:e},localStorage.setItem("authAcct",JSON.stringify(o))}}}},!0)},o.checkGoals()},templateUrl:function(e,a){return t.trustAsResourceUrl(static_path("views/directives/student-goal-"+a.tempType+".directive.html"))}};return i}angular.module("main.directives").directive("studentGoal",t),t.$inject=["$sce","Users","Main","$uibModal","$timeout"]}(),function(){"use strict";function t(t,e,a,n){var o={restrict:"EA",scope:{tempType:"=",userId:"=",materials:"=",path:"="},link:function(o,i,s){o.sortType=["-material_added"],o.sortReverse=!1,o.searchItem="",o.open=function(e){a.open({templateUrl:t.trustAsResourceUrl(static_path("views/modals/student-materials.modal.html")),controller:["$scope","$uibModalInstance","$timeout",function(t,a,n){var i=this;e.id?(i.modalTitle="Update Material",i.newMaterial=e):(i.modalTitle="Add Material",i.newMaterial={}),i.closeModal=function(){a.dismiss("cancel")},i.submitMaterial=function(t){if(e.id)o.updateMaterial(t);else{var n=o.userId;o.addMaterial(n,t)}a.close()}}],controllerAs:"vm",size:"lg"})},o.updateMaterial=function(t){var e=_.omit(t,"material_added_by","student"),a=t.id,i=e;n.upload({url:"api/v1/student-materials/"+a+"/",data:i,method:"PUT"}).then(function(e){var a=o.materials.indexOf(t);o.materials[a]=e.data},function(t){console.log("Error status: "+t.status)},function(t){var e=parseInt(100*t.loaded/t.total);console.log("progress: "+e+"% "+t.config.data.file.name)})},o.addMaterial=function(t,e){e.student=t,n.upload({url:"api/v1/student-materials/",data:e}).then(function(t){o.materials.push(t.data)},function(t){console.log("Error status: "+t.status)},function(t){var e=parseInt(100*t.loaded/t.total);console.log("progress: "+e+"% "+t.config.data.file.name)})},o.deleteMaterial=function(t){var a=t.id;e.deleteStudentMaterial(a).then(function(e){var a=o.materials.indexOf(t);o.materials.splice(a,1)})["catch"](function(t){console.log(t)})}},templateUrl:function(e,a){return t.trustAsResourceUrl(static_path("views/directives/student-materials-"+a.tempType+".directive.html"))}};return o}angular.module("main.directives").directive("studentMaterials",t),t.$inject=["$sce","Users","$uibModal","Upload"]}(),function(){"use strict";function t(t,e,a){var n={restrict:"EA",scope:{tempType:"=",userId:"=",authAcct:"=",objectives:"="},link:function(n,o,i){n.sortType=["objective_complete","objective_created"],n.sortReverse=!1,n.searchItem="",n.open=function(e){a.open({templateUrl:t.trustAsResourceUrl(static_path("views/modals/student-objective.modal.html")),controller:["$scope","$uibModalInstance","$timeout",function(t,a,o){var i=this;e.id?(i.modalTitle="Update Objective",i.studentObjective=e):(i.modalTitle="New Objective",i.studentObjective={}),i.closeModal=function(){a.dismiss("cancel")},i.submitObjective=function(t){if(e.id)n.updateObjective(t);else{var o=n.userId;n.addObjective(o,t)}a.close()}}],controllerAs:"vm",size:"lg"})},n.updateObjective=function(t){var a=t.id;if(t.objective)var o={id:t.id,objective:t.objective,objective_complete:t.objective_complete,objective_notes:t.objective_notes};else{var o=t,i=n.getDate();o.objective_complete_date=i.now}e.updateStudentObjective(a,o).then(function(e){var a=n.objectives.indexOf(t);n.objectives[a]=e})["catch"](function(t){console.log(t)})},n.getDate=function(){var t=new Date,e=t.getDate(),a=t.getMonth()+1,n=t.getFullYear(),o=t.getHours(),i=t.getMinutes(),s=t.getSeconds(),r=n+"-"+a+"-"+e+"T"+o+":"+i+":"+s;return{today:t,dd:e,mm:a,yyyy:n,hh:o,m:i,secs:s,now:r}},n.addObjective=function(t,a){a.student=t,e.createStudentObjective(a).then(function(t){n.objectives.push(t)})["catch"](function(t){console.log(t)})},n.deleteObjective=function(t){var a=t.id;e.deleteStudentObjective(a).then(function(e){var a=n.objectives.indexOf(t);n.objectives.splice(a,1)})["catch"](function(t){console.log(t)})}},templateUrl:function(e,a){return t.trustAsResourceUrl(static_path("views/directives/student-objective-"+a.tempType+".directive.html"))}};return n}angular.module("main.directives").directive("studentObjective",t),t.$inject=["$sce","Users","$uibModal"]}(),function(){"use strict";function t(t,e,a,n){var o={restrict:"EA",scope:{tempType:"=",userId:"=",practiceLogs:"="},link:function(o,i,s){o.sortType=["practice_item_created"],o.sortReverse=!1,o.searchItem="",o.open=function(e){a.open({templateUrl:t.trustAsResourceUrl(static_path("views/modals/student-practice.modal.html")),controller:["$scope","$uibModalInstance","$timeout",function(t,a,n){var i=this;e.id?(i.modalTitle="Update Practice",i.newPracticeLog=e):(i.modalTitle="New Practice",i.newPracticeLog={}),i.openDate=function(t){t.preventDefault(),t.stopPropagation(),n(function(){i.showPicker.opened=!i.showPicker.opened})},i.showPicker={opened:!1},i.closeModal=function(){a.dismiss("cancel")},i.submitNewPracticeLog=function(t){if(e.id)o.updatePracticeLog(t);else{var n=o.userId;o.addPracticeLog(n,t)}a.close()}}],controllerAs:"vm",size:"lg"})},o.updatePracticeLog=function(t){var a=_.omit(t,"practice_item_created");e.updateStudentPracticeLog(a).then(function(e){o.pracLog=_.findWhere(o.practiceLogs,{id:t.id}),o.pracLog.practice_category_display=e.practice_category_display,o.getStats()})["catch"](function(t){console.log(t)})},o.addPracticeLog=function(t,a){a.student=t,e.createStudentPracticeLog(a).then(function(t){o.practiceLogs.push(t),o.getStats()})["catch"](function(t){console.log(t)})},o.deletePracticeLog=function(t){var a=t.id;e.deleteStudentPracticeLog(a).then(function(e){var a=o.practiceLogs.indexOf(t);o.practiceLogs.splice(a,1),o.getStats()})["catch"](function(t){console.log(t)})},o.getStats=function(){n(function(){var t=[],e=[];o.maxSpeed=0,o.practiceLogs.length?angular.forEach(o.practiceLogs,function(a,n){if(a.practice_time){var i=parseInt(a.practice_time);t.push(i)}if(a.practice_speed){var s=parseInt(a.practice_speed);s>o.maxSpeed&&(o.maxSpeed=s),e.push(s)}}):(t.push(0),e.push(0)),o.sumTimes=t.reduce(function(t,e){return t+e}),o.sumSpeeds=e.reduce(function(t,e){return t+e})},1e3)},o.getStats()},templateUrl:function(e,a){return t.trustAsResourceUrl(static_path("views/directives/student-practice-"+a.tempType+".directive.html"))}};return o}angular.module("main.directives").directive("studentPracticeLog",t),t.$inject=["$sce","Users","$uibModal","$timeout"]}(),function(){"use strict";function t(t,e,a){var n={restrict:"EA",scope:{tempType:"=",userId:"=",wishLists:"="},link:function(n,o,i){n.sortType=["wish_item_complete","wish_item_created"],n.sortReverse=!1,n.searchItem="",n.open=function(e){a.open({templateUrl:t.trustAsResourceUrl(static_path("views/modals/student-wishlist.modal.html")),controller:["$scope","$uibModalInstance","$timeout",function(t,a,o){var i=this;e.id?(i.modalTitle="Update Wish",i.newWishItem=e):(i.modalTitle="New Wish",i.newWishItem={}),i.closeModal=function(){a.dismiss("cancel")},i.submitWishItem=function(t){if(e.id)n.updateWishItem(t);else{var o=n.userId;n.addWishItem(o,t)}a.close()}}],controllerAs:"vm",size:"lg"})},n.updateWishItem=function(t){var a=t.id;if(t.wish_item)var o={id:t.id,wish_item:t.wish_item,wish_item_complete:t.wish_item_complete,wish_item_notes:t.wish_item_notes};else{var o=t,i=n.getDate();o.objective_complete_date=i.now}e.updateStudentWishList(a,o).then(function(e){var a=n.wishLists.indexOf(t);n.wishLists[a]=e})["catch"](function(t){console.log(t)})},n.getDate=function(){var t=new Date,e=t.getDate(),a=t.getMonth()+1,n=t.getFullYear(),o=t.getHours(),i=t.getMinutes(),s=t.getSeconds(),r=n+"-"+a+"-"+e+"T"+o+":"+i+":"+s;return{today:t,dd:e,mm:a,yyyy:n,hh:o,m:i,secs:s,now:r}},n.addWishItem=function(t,a){a.student=t,e.createStudentWishList(a).then(function(t){n.wishLists.push(t)})["catch"](function(t){console.log(t)})},n.deleteWishItem=function(t){var a=t.id;e.deleteStudentWishList(a).then(function(e){
var a=n.wishLists.indexOf(t);n.wishLists.splice(a,1)})["catch"](function(t){console.log(t)})}},templateUrl:function(e,a){return t.trustAsResourceUrl(static_path("views/directives/student-wishlist-"+a.tempType+".directive.html"))}};return n}angular.module("main.directives").directive("studentWishList",t),t.$inject=["$sce","Users","$uibModal"]}(),function(){"use strict";function t(t,e,a){function n(t){return t.data}function o(t){return e.reject(t)}function i(e,a){return t.post("/api/v1/auth/login/",{username:e,password:a}).then(s)["catch"](o)}function s(t){return p.setAuthAcct(t.data),t.data}function r(e){return t.post("api/v1/users/",e).then(n)["catch"](o)}function c(t){localStorage.setItem("authAcct",JSON.stringify({id:t.id,is_staff:t.is_admin,notification:""}))}function l(){return JSON.parse(localStorage.getItem("authAcct"))}function u(){return!!localStorage.getItem("authAcct")}function d(){var t=JSON.parse(localStorage.getItem("authAcct"));return t.is_staff}function f(){return t.post("/api/v1/auth/logout/").then(g)["catch"](o)}function g(t){localStorage.clear(),a.go("login")}var p={login:i,logout:f,register:r,setAuthAcct:c,getAuthAcct:l,isAuthAcct:u,isStaffAcct:d};return p}angular.module("main.services").factory("Main",t),t.$inject=["$http","$q","$state"]}();