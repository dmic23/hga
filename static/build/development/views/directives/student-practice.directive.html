<div class="row">
	<h3 class="">Student Practice Log</h3>	
	<button type="button" class="btn btn-primary" ng-click="showNewPracticeLog = !showNewPracticeLog"><span class="glyphicon glyphicon-plus"></span></button>
</div>

<div class="row" ng-show="showNewPracticeLog">
	<form class="form-inline" name="newPracticeForm" ng-submit="addPracticeLog(userId, newPracticeLog);" novalidate>
		<div class="form-group">
			<label class="sr-only" for="practice_category">Practice Category</label>
			<select class="form-control" name="practice_category" ng-model="newPracticeLog.practice_category">
				<option value=""></option>
				<option value="LEAD_TECHNIQUE">Lead Technique</option>
				<option value="RHYTHM_TECHNIQUE">Rhythm Technique</option>
				<option value="THEORY">Theory</option>
				<option value="REPERTOIRE">Repertoire</option>
				<option value="APPLIED_THEORY">Applied Theory</option>
			</select>
		</div>
		<div class="form-group">
			<label class="sr-only" for="practiced">Practiced</label>
			<input type="text" class="form-control" name="practiced" placeholder="What was practiced" ng-model="newPracticeLog.practice_item" required>
			<span class="text-danger" ng-show="newPracticeForm.practiced.$error.required">Required!</span>
		</div>
		<div class="form-group">
			<label class="sr-only" for="practice_time">Practice Time</label>
			<input type="text" class="form-control" name="practice_time" placeholder="How long?" ng-model="newPracticeLog.practice_time">
		</div>
		<div class="form-group">
			<label class="sr-only" for="practice_speed">Practice Speed</label>
			<input type="text" class="form-control" name="practice_speed" placeholder="Top speed?" ng-model="newPracticeLog.practice_speed">
		</div>
		<div class="form-group">
			<label class="sr-only" for="practice_notes">Practice Notes</label>
			<textarea class="form-control" rows="1" placeholder="New Practice Notes" name="practice_notes" ng-model="newPracticeLog.practice_notes"></textarea>
		</div>
		<div class="form-group">
			<button type="submit" class="btn btn-success btn-sm">Log Practice</button>
		</div>
	</form>
</div>

<div class="table-responsive">

	<table class="table table-hover">
		<thead>
			<tr>
				<th>Date</th>
				<th>Practice Category</th>
				<th>Practiced</th>
				<th>Practice Time</th>
				<th>Practice Speed</th>
				<th>Practice Notes</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="log in practiceLogs" name="studentPracticeForm" ng-form novalidate>
				<td class="width-10">{{log.practice_item_created | date:'MMM d, y'}}</td>

				<td class="width-15" ng-if="!edit"><span>{{log.practice_category_display}}</span></td>
				<td class="width-15" ng-if="edit">
					<select class="form-control" name="practice_category" ng-model="log.practice_category">
						<option value=""></option>
						<option value="LEAD_TECHNIQUE">Lead Technique</option>
						<option value="RHYTHM_TECHNIQUE">Rhythm Technique</option>
						<option value="THEORY">Theory</option>
						<option value="REPERTOIRE">Repertoire</option>
						<option value="APPLIED_THEORY">Applied Theory</option>
					</select>
				</td>

				<td class="width-15" ng-if="!edit"><span>{{log.practice_item}}</span></td>
				<td class="width-15" ng-if="edit"><input name="practiced" class="form-control" type="text" value="{{log.practice_item}}" ng-model="log.practice_item" required><!-- <span class="text-danger" ng-show="studentPracticeForm.practice_item.$error.required">Required!</span> --></td>

				<td class="width-15" ng-if="!edit"><span>{{log.practice_time}}</span></td>
				<td class="width-15" ng-if="edit"><input name="practice_time" class="form-control" type="text" value="{{log.practice_time}}" ng-model="log.practice_time"></td>

				<td class="width-15" ng-if="!edit"><span>{{log.practice_speed}}</span></td>
				<td class="width-15" ng-if="edit"><input name="practice_speed" class="form-control" type="text" value="{{log.practice_speed}}" ng-model="log.practice_speed"></td>

				<td class="width-20" ng-if="!edit">{{log.practice_notes}}</td>
				<td class="width-20" ng-if="edit">
					<textarea class="form-control" name="practice_notes" rows="1" ng-model="log.practice_notes" value="{{log.practice_notes}}"></textarea>
				</td>

				<td class="width-10">
					<div class="btn-group btn-group-sm" role="group" aria-label="...">
						<button type="submit" class="btn btn-link" ng-show="studentPracticeForm.$dirty" ng-click="updatePracticeLog(log);"><i class="glyphicon glyphicon-floppy-disk"/></button>
						<button type="button" class="btn btn-link" ng-click="edit = !edit" ng-hide="studentPracticeForm.$dirty"><i class="glyphicon glyphicon-pencil text-warning"/></button>
						<button type="button" class="btn btn-link" ng-click="deletePracticeLog(log);"><i class="glyphicon glyphicon-trash text-danger"/></button>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
</div>